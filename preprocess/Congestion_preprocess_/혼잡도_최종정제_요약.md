
# ✅ 혼잡도 데이터 최종 정제 요약

서울시 지하철 혼잡도 및 기상 데이터를 통합한 후, 다음과 같은 고도화된 정제 방식을 적용하여 **결측값을 대폭 보완**하였습니다.

---

## 🧪 적용된 정제 전략

### 1. 권역 기반 대표 관측소 보간
- `stn_groups`를 활용하여 서울/경기/인천 지역을 권역별로 구분
- 각 권역 내에서 **결측이 가장 적은 관측소(best_stn)**를 선정
- 해당 관측소의 데이터를 기반으로 `datetime` 기준으로 **다른 역들의 결측값 보간**
- 적용 대상 변수: `ta`, `hm`, `ws`, `wd`, `rn_hr1`, `rn_day`, `ta_chi`

---

### 2. 체감온도 역산 보간 (기온/풍속/습도)
#### 🥶 겨울 체감온도 역산
- 공식: `13.12 + 0.6215*ta - 11.37*v^0.16 + 0.3965*v^0.16*ta`
- `ta_chi`, `ws` → `ta` 추정 / `ta_chi`, `ta` → `ws` 추정
- `scipy.optimize.minimize()`를 활용한 오차 최소화 기반 추정

#### 🌡️ 여름 체감온도 역산
- 습구온도(`Tw`) 기반 여름 체감온도 공식 활용
- `ta`, `rh` 중 하나 결측 시, `ta_chi`에 맞춰 나머지 값 추정

---

## 📉 결측률 정제 결과

| 연도 | 전체 결측률 | 정제 후 결측률 | 정제 처리율 |
|------|--------------|----------------|--------------|
| 2021 | 21.2%        | 2.3%           | 🔻 89.15%     |
| 2022 | 6.6%         | 1.1%           | 🔻 89.33%     |
| 2023 | 13.1%        | 2.6%           | 🔻 80.15%     |

✅ 단순 평균 보간 이상의 고급 방식이 적용되었으며, 실제 기온-풍속-습도 간의 물리적 관계를 활용하여 **신뢰도 높은 데이터 복원**을 달성했습니다.

---

## 📦 관련 노트북

| 파일명                    | 설명 |
|-------------------------|------|
| `혼잡도정제_최종_최종임.ipynb` | 최종 결측치 정제본. 권역 기반 + 체감온도 기반 역산 보간 포함 |
| `결측치처리_관측소기반.ipynb`            | 1차 시도. 단순 시간 보간 중심. 연속 결측 구간 처리 실패 |
| `결측치처리_시간_좌표기반.ipynb`         | 2차 시도. 관측소+시간 조합 평균 보간. 패턴 있는 경우만 보완 |

---

